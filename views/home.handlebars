<style>
    /* Styles généraux */
    body {
        margin: 0;
        padding: 0;
        background-color: rgba(0, 0, 0, 0.7);
        /* Légère opacité pour le fond */
        font-family: Arial, Helvetica, sans-serif;
        color: white;
        display: flex;
        flex-direction: column;
    }

    /* Vidéo en arrière-plan */
    video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
    }

    /* Barre de navigation */
    #navigator-bar {
        width: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10;
        padding: 15px 0;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
    }

    .navbar-brand {
        font-size: 1.5rem;
        font-weight: bold;
        color: #ff541f;
    }

    .navbar-nav {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 10px;
    }

    .nav-item {
        margin: 0 1rem;
        font-size: 1.1rem;
    }

    .others-button,
    #logout {
        border: none;
        padding: 10px 20px;
        background-color: #ff5722;
        font-size: 1.1rem;
        color: white;
        border-radius: 20px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .others-button:hover,
    #logout:hover {
        background-color: #7dc3ec;
    }

    /* Section principale */
    section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 60px 20px;
        margin-top: 100px;
        /* Pour éviter que la navbar n'empiète sur le contenu */
        width: 100%;
        height: 100%;
        text-align: center;
    }

    .cl:hover {
        color: white;
        background-color: #ff5722;
        border-radius: 15px;
    }

    .container {
        width: 100%;
        max-width: 350px;
        margin: 20px 0;
        background-color: rgba(71, 69, 69, 0.8);
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.3);
        text-align: center;
    }

    .cl {
        color: ;
        background-color: rgb(3, 96, 96);
        border-radius: 20px;
    }

    .container img {
        width: 5rem;
        height: auto;
        border-radius: 50%;
        margin-bottom: 20px;
    }

    #second-section {

        width: 100%;
    }

    /* Conteneurs de statistiques et de notices */
    #statistic-container,
    #notice-container {
        width: 80%;
        max-width: 400px;
        background-color: rgba(255, 255, 255, 0.1);
        padding: 20px;
        margin-left: 30px;
        border-radius: 15px;
        height: 300px
    }

    h1,
    h2 {
        color: #ff5722;
        margin-bottom: 10px;
    }

    /* Responsivité */
    @media (max-width: 768px) {
        .navbar-nav {
            flex-direction: column;
            align-items: center;
        }

        .nav-item {
            margin: 10px 0;
        }

        .others-button,
        #logout {
            width: 100%;
            margin-top: 10px;
        }

        .container {
            width: 90%;
            margin-top: 20px;
        }

        h1 {
            font-size: 1.5rem;
        }

        h2 {
            font-size: 1.2rem;
        }

        p {
            font-size: 1rem;
        }
    }

    /* Réduction de la taille de l'image dans la barre de navigation */
    .navbar-brand img {
        width: 3.5rem;
        /* Réduit la taille de l'image */
        height: auto;
        /* Maintient les proportions */
        margin-left: 1rem;
        /* Un peu d'espace à droite de l'image */
        border-radius: 50%;
        /* bordur */
    }

    /* Reste du CSS reste inchangé */

    @media (max-width: 480px) {
        #navigator-bar {
            padding: 10px;
        }

        .navbar-nav {
            flex-direction: column;
        }

        .container {
            width: 90%;
            padding: 15px;
        }

        .others-button,
        #logout {
            width: 100%;
            margin-top: 10px;
        }

        h1 {
            font-size: 1.3rem;
        }

        h2 {
            font-size: 1rem;
        }

        p {
            font-size: 0.9rem;
        }
    }

    .notification {
        position: fixed;
        top: 15px;
        left: 35%;
        z-index: 1050;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 15px;
        width: 30rem;
    }

    .modal-body {
        visibility: visible !important;
        opacity: 1 !important;
        display: block !important;
        color: black !important;
        /* Assurez-vous que la couleur du texte est lisible */
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<video autoplay loop muted>
    <source src="/font/6917189_Motion Graphics_Motion Graphic_3840x2160.mp4" type="video/mp4">
    Votre navigateur ne prend pas en charge le type de vidéo
</video>


<!-- Barre de navigation -->
<nav id="navigator-bar" class="navbar navbar-expand-lg d-flex">
    <a class="navbar-brand" href="#"><img class="navabar-brand" src="/font/vibrapass.png" alt="Logo"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav d-flex justify-content-center align-items-center">
            <li class="nav-item active">
                <a class="nav-link cl" onclick="getNewPassword()">Nouveau mot de passe</a>
            </li>
            <li class="nav-item">
                <a class="nav-link cl" onclick="getListedAllPassWord()">Mes mots de passe</a>
            </li>
            <li class="nav-item">
                <button class="others-button" onclick="getLogin()">Se connecter</button>
            </li>
            <li class="nav-item">
                <button class="others-button" onclick="getSignup()">S'inscrire</button>
            </li>
            <li class="nav-item">
                <button id="logout" class="others-button" onclick="getLogout()">Se déconnecter</button>
            </li>
        </ul>
    </div>
</nav>

<!-- Section principale -->
<section id="section">
    <div id="first-section" class="container-fluid text-center">
        <h1>Prendre le contrôle de votre sécurité numérique avec notre gestionnaire de mots de passe</h1>
        <p>La collaboration devient facile grâce à notre plateforme de stockage en cloud. Vous pouvez facilement
            partager des fichiers avec vos amis, votre famille ou vos collègues, et même travailler dessus ensemble en
            temps réel.</p>
    </div>

    <!-- Statistiques et notice -->
    <div id="second-section" class="d-flex justify-content-center align-items-center flex-wrap">

        <div class="container" id="notice-container">
            <h2>Bienvenue !</h2>
            <p>Merci d'avoir choisi notre application de gestionnaire de mots de passe. Ce guide vous aidera à naviguer
                parmi les principales fonctionnalités et à tirer le meilleur parti de votre expérience.</p>
            <p>Pour en savoir plus sur l'utilisation du site, veuillez consulter notre <a href="#" data-toggle="modal"
                    data-target="#noticeModal">notice</a>.</p>
        </div>
        <div class="container" id="statistic-container">
            <h2>Statistiques d'utilisation !</h2>
            <canvas id="myChart" width="400" height="200"></canvas>
        </div>

    </div>
</section>

<!-- Modal de la Notice -->
<div class="modal fade color-red" id="noticeModal" tabindex="-1" role="dialog" aria-labelledby="noticeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="noticeModalLabel">Notice d'utilisation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>Bienvenue sur notre gestionnaire de mots de passe</h3>
                <p>Notre application vous permet de gérer vos mots de passe de manière sécurisée, tout en vous offrant
                    une interface simple à utiliser.</p>

                <h4>Les pages de l'application :</h4>
                <ul>
                    <li><strong>Page d'accueil :</strong> C'est la première page que vous voyez après vous être inscrit
                        ou connecté. Vous pouvez y voir les fonctionnalités disponibles de l'application.</li>
                    <li><strong>Mes mots de passe :</strong> Cette page vous permet de consulter la liste de tous vos
                        mots de passe enregistrés.</li>
                    <li><strong>Ajouter un mot de passe :</strong> Ici, vous pouvez ajouter un nouveau mot de passe à
                        gérer. Vous devez spécifier le site, le nom d'utilisateur et le mot de passe associé.</li>
                    <li><strong>Connexion :</strong> Pour accéder à vos mots de passe, vous devez vous connecter avec
                        votre identifiant et votre mot de passe.</li>
                    <li><strong>Inscription :</strong> Si vous êtes un nouvel utilisateur, vous devez vous inscrire pour
                        créer un compte et commencer à utiliser l'application.</li>
                </ul>

                <h4>Réinitialisation de votre mot de passe :</h4>
                <p>Si vous oubliez votre mot de passe, nous avons mis en place une procédure de réinitialisation
                    sécurisée :</p>
                <ul>
                    <li>Lorsque vous demandez à réinitialiser votre mot de passe, nous vous envoyons un e-mail contenant
                        un lien pour réinitialiser votre mot de passe.</li>
                    <li>En suivant ce lien, vous pourrez créer un nouveau mot de passe et l'utiliser pour vous connecter
                        à votre compte.</li>
                    <li>Une fois votre mot de passe réinitialisé, vous pourrez revenir sur le site, vous connecter et
                        gérer vos mots de passe comme vous le souhaitez.</li>
                </ul>

                <h4>Gestion de vos mots de passe :</h4>
                <p>Sur notre plateforme, vous avez la possibilité de :</p>
                <ul>
                    <li><strong>Ajouter un mot de passe :</strong> Vous pouvez enregistrer de nouveaux mots de passe en
                        toute sécurité.</li>
                    <li><strong>Modifier un mot de passe :</strong> Vous pouvez également modifier un mot de passe
                        existant.</li>
                    <li><strong>Supprimer un mot de passe :</strong> Si vous n'avez plus besoin d'un mot de passe, vous
                        pouvez facilement le supprimer de votre liste.</li>
                </ul>

                <h4>Accès aux autres pages :</h4>
                <p>Pour accéder à toutes les fonctionnalités de notre site, vous devez soit vous inscrire, soit vous
                    connecter. Nous ne permettons l'accès aux pages protégées qu'aux utilisateurs enregistrés et
                    connectés.</p>

                <h4>Nos services :</h4>
                <p>Nous sommes heureux de vous annoncer que nos services sont entièrement gratuits. Vous pouvez utiliser
                    toutes les fonctionnalités de notre application sans frais.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
            </div>
        </div>
    </div>
</div>

<!-- Scripts nécessaires pour le modal -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>



<div class="alert alert-danger rounded-5 notification" role="alert" id="notification" style="display: none;">
    <strong id="notification-title"></strong><br>
    <p id="notification-message"></p>
    <p id="notification-messageErreur">{{erreur}}</p>
    <p id="notification-messageSucces">{{message}}</p>
    <button type="button" class="close" onclick="hideNotification()"><span>X</span></button>
</div>

<script>
    function showNotification(type, messages) {
        const notification = document.getElementById('notification');
        const title = document.getElementById('notification-title');
        const messageElement = document.getElementById('notification-message');

        title.textContent = type === 'success' ? 'Succès' : 'Erreur';
        messageElement.textContent = messages;
        notification.className = `alert notification alert-${type}`
        notification.style.display = 'block'
    }
    window.onload = function () {
        var erreur = document.getElementById('notification-messageErreur');
        var success = document.getElementById('notification-messageSucces');

        if (erreur.textContent.length > 4) {
            showNotification('danger', erreur.textContent)
            erreur.textContent = ''
        }
        if (success.textContent.length > 4) {
            showNotification('success', success.textContent)
            success.textContent = ''
        }
    };
    function hideNotification() {
        document.getElementById('notification').style.display = 'none';
    }

    function getLogin() {
        window.location.href = '/login';
    }
    function getSignup() {
        window.location.href = '/signup';
    }
    function getLogout() {
        window.location.href = '/logout';
    }
    function getNewPassword() {
        window.location.href = '/newpassword';
    }
    function getListedAllPassWord() {
        window.location.href = '/listedallpassword';
    }
    async function printStatistic() {
        //recuperation des données depuis le serveur avec fetch
        const response = await fetch('/api/data');
        const data = await response.json();
        //creation des parties de notre chart
        const labels = data.map(item => item.website)
        const userCounts = data.map(item => item.user_count);
        //creation de la chart
        const ctx = document.getElementById('myChart').getContext('2d');

        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Nombre d\'utilisateurs',
                    data: userCounts,
                    backgroundColor: '#ff5722',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
    printStatistic()


</script>